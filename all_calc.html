<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <link href="all_calc.css" rel="stylesheet" type="text/css">
        <script>

            function t_calc(){

                var d, v,t,ans;
                d = distance.value;
                v = velocity.value;
                t = d / v;  
                if(d%t == 0){
                    time.value = t;
                }
                else if(isNaN(t)){
                    time.value = "error";
                }
                else{
                    ans = t.toFixed(2)
                    time.value = ans;
                }
            }

            function d_calc(){

                var v,t;
                v = velocity.value;
                t = time.value;
                distance.value = v * t;  
            
            }

            function v_calc(){

                var d,t,v,ans;
                d = distance.value;
                t = time.value;
                v = d / t;
                if(d%t == 0){
                    velocity.value = v;
                }
                else if(isNaN(v)){
                    velocity.value = "error";
                }
                else{
                    ans = v.toFixed(2)
                    velocity.value = ans;
                }
            }

            

            function check(){

                var flag = 0;
                console.log('check関数に到達')

	            if(time.value == ""){ // 時間計算の入力をチェック
		            flag = 1;
                    console.log('flag=1')
    	        }
	            else if(distance.value == ""){ // 道のりの入力をチェック
                    flag = 2;
                    console.log('flag=2')
	            }
	            else if(velocity.value == ""){ // 速さの入力をチェック
		            flag = 3;
                    console.log('flag=3')
	            }
                else{
                    console.log('flag=0')
                }

                if(flag==1){
                    t_calc();
                }
	            else if(flag==2){
	    	        d_calc();
	            }   
                else if(flag==3){
                    v_calc();
                }
                
            }
        </script>
    </head>

    <body>
        <a href="menu.html" ><img src="もどるボタン.png" width="100px" height="100px"></a>
        <div class="func">
            <img src="みはじ背景.png" width="750px" height="750px">
            <form>
                <div class="distance">
                    <p><input type="text" id="distance" size="2" placeholder="　み　"></p><br>
                </div>

                <div class="velocity">
                    <p><input type="text" id="velocity" size="2" placeholder="　は　"></p><br>
                </div>

                <div class="time">
                    <p><input type="text" id="time" size="2" placeholder="　じ　"></p><br>
                </div>

                <div class="calc">
                    <input type="button" value="計算する" onclick="check()"> 
                </div>

                <div class="reset">
                    <input type="reset" value="クリア">
                </div>
            </form>
        </div>
    </body>

</html>